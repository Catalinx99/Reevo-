(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function t(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(i){if(i.ep)return;i.ep=!0;const n=t(i);fetch(i.href,n)}})();class g{x;y;color;gravity;constructor(e,t,a,i){this.x=e,this.y=t,this.color=a,this.gravity=i}update(){this.y+=this.gravity}isClicked(e,t){return e>=this.x-20&&e<=this.x+20&&t>=this.y-20&&t<=this.y+20}}class z extends g{radius;constructor(e,t,a,i,n){super(e,t,a,i),this.radius=n}draw(e){e.fillStyle=this.color,e.beginPath(),e.arc(this.x,this.y,this.radius,0,Math.PI*2),e.fill()}getArea(){return Math.PI*this.radius*this.radius}isClicked(e,t){const a=e-this.x,i=t-this.y;return a*a+i*i<=this.radius*this.radius}}class A extends g{size;constructor(e,t,a,i,n){super(e,t,a,i),this.size=n}draw(e){e.fillStyle=this.color,e.fillRect(this.x-this.size/2,this.y-this.size/2,this.size,this.size)}getArea(){return this.size*this.size}isClicked(e,t){return e>=this.x-this.size/2&&e<=this.x+this.size/2&&t>=this.y-this.size/2&&t<=this.y+this.size/2}}class V extends g{size;constructor(e,t,a,i,n){super(e,t,a,i),this.size=n}draw(e){e.fillStyle=this.color,e.beginPath(),e.moveTo(this.x,this.y-this.size/2),e.lineTo(this.x-this.size/2,this.y+this.size/2),e.lineTo(this.x+this.size/2,this.y+this.size/2),e.closePath(),e.fill()}getArea(){return Math.sqrt(3)/4*this.size*this.size}isClicked(e,t){return e>=this.x-this.size/2&&e<=this.x+this.size/2&&t>=this.y-this.size/2&&t<=this.y+this.size/2}}class b extends g{size;constructor(e,t,a,i,n){super(e,t,a,i),this.size=n}draw(e){e.fillStyle=this.color,e.beginPath();const t=5,a=this.size/2;for(let i=0;i<t;i++){const n=i*2*Math.PI/t-Math.PI/2,d=this.x+a*Math.cos(n),c=this.y+a*Math.sin(n);i===0?e.moveTo(d,c):e.lineTo(d,c)}e.closePath(),e.fill()}getArea(){const e=this.size/2;return 5*e*e*Math.sin(2*Math.PI/5)/2}isClicked(e,t){return Math.sqrt((e-this.x)**2+(t-this.y)**2)<=this.size/2}}class k extends g{size;constructor(e,t,a,i,n){super(e,t,a,i),this.size=n}draw(e){e.fillStyle=this.color,e.beginPath();const t=6,a=this.size/2;for(let i=0;i<t;i++){const n=i*2*Math.PI/t,d=this.x+a*Math.cos(n),c=this.y+a*Math.sin(n);i===0?e.moveTo(d,c):e.lineTo(d,c)}e.closePath(),e.fill()}getArea(){const e=this.size/2;return 3*Math.sqrt(3)*e*e/2}isClicked(e,t){return Math.sqrt((e-this.x)**2+(t-this.y)**2)<=this.size/2}}class D extends g{radiusX;radiusY;constructor(e,t,a,i,n,d){super(e,t,a,i),this.radiusX=n,this.radiusY=d}draw(e){e.fillStyle=this.color,e.beginPath(),e.ellipse(this.x,this.y,this.radiusX,this.radiusY,0,0,2*Math.PI),e.fill()}getArea(){return Math.PI*this.radiusX*this.radiusY}isClicked(e,t){const a=e-this.x,i=t-this.y;return a*a/(this.radiusX*this.radiusX)+i*i/(this.radiusY*this.radiusY)<=1}}class R extends g{radius;constructor(e,t,a,i,n){super(e,t,a,i),this.radius=n}draw(e){e.fillStyle=this.color,e.beginPath();const t=5,a=this.radius,i=this.radius*.4;for(let n=0;n<t*2;n++){const d=n*Math.PI/t-Math.PI/2,c=n%2===0?a:i,I=this.x+c*Math.cos(d),C=this.y+c*Math.sin(d);n===0?e.moveTo(I,C):e.lineTo(I,C)}e.closePath(),e.fill()}getArea(){const e=this.radius,t=this.radius*.4;return 5*e*t*Math.sin(Math.PI/5)/2}isClicked(e,t){return Math.sqrt((e-this.x)**2+(t-this.y)**2)<=this.radius}}class O{shapes=[];addShape(e){this.shapes.push(e)}removeShape(e){this.shapes=this.shapes.filter(t=>t!==e)}updateShapes(){this.shapes.forEach(e=>e.update())}drawShapes(e){this.shapes.forEach(t=>t.draw(e))}getTotalArea(){return this.shapes.reduce((e,t)=>e+t.getArea(),0)}}const u=document.getElementById("canvas"),m=u.getContext("2d"),h=new O;let r=2,o=1,L=0;m.save();h.addShape(new z(100,100,"red",r,20));function F(s){if(m.clearRect(0,0,u.width,u.height),m.save(),m.beginPath(),m.rect(0,0,u.width,u.height),m.clip(),h.updateShapes(),h.drawShapes(m),m.restore(),document.getElementById("numShapes").textContent=h.shapes.length.toString(),document.getElementById("totalArea").textContent=h.getTotalArea().toFixed(0),s-L>=1e3/o){const e=Math.random()*(u.width-40)+20;h.addShape(q(e,-50,r)),L=s}requestAnimationFrame(F)}F(0);function X(){const s="0123456789ABCDEF";let e="#";for(let t=0;t<6;t++)e+=s[Math.floor(Math.random()*16)];return e}function q(s,e,t){const a=Math.floor(Math.random()*7),i=20+Math.random()*20,n=X();switch(a){case 0:return new V(s,e,n,t,i);case 1:return new A(s,e,n,t,i);case 2:return new b(s,e,n,t,i);case 3:return new k(s,e,n,t,i);case 4:return new z(s,e,n,t,i/2);case 5:return new D(s,e,n,t,i/2,i/3);case 6:return new R(s,e,n,t,i/2);default:return new z(s,e,n,t,i/2)}}function T(s,e){const t=u.getBoundingClientRect(),a=u.width/t.width,i=u.height/t.height,n=(s-t.left)*a,d=(e-t.top)*i,c=h.shapes.find(I=>I.isClicked(n,d));c?h.removeShape(c):h.addShape(q(n,d,r))}u.addEventListener("click",s=>{T(s.clientX,s.clientY)});u.addEventListener("touchstart",s=>{s.preventDefault();const e=s.touches[0];T(e.clientX,e.clientY)});document.getElementById("decreaseFreq")?.addEventListener("click",()=>{o>.1&&(o=Math.max(.1,o-.1),document.getElementById("freqValue").textContent=o.toFixed(1))});document.getElementById("increaseFreq")?.addEventListener("click",()=>{o<10&&(o=Math.min(10,o+.1),document.getElementById("freqValue").textContent=o.toFixed(1))});document.getElementById("decreaseGrav")?.addEventListener("click",()=>{r>.1&&(r=Math.max(.1,r-.1),document.getElementById("gravValue").textContent=r.toFixed(1),h.shapes.forEach(s=>s.gravity=r))});document.getElementById("increaseGrav")?.addEventListener("click",()=>{r<20&&(r=Math.min(20,r+.1),document.getElementById("gravValue").textContent=r.toFixed(1),h.shapes.forEach(s=>s.gravity=r))});document.addEventListener("DOMContentLoaded",()=>{const s=document.getElementById("freqValue"),e=document.getElementById("gravValue");s&&(s.textContent=o.toFixed(1)),e&&(e.textContent=r.toFixed(1))});const S=document.getElementById("freqValue"),P=document.getElementById("gravValue");S&&(S.textContent=o.toFixed(1));P&&(P.textContent=r.toFixed(1));let M=null,x=null;function f(s){s(),x=window.setTimeout(()=>{M=window.setInterval(s,100)},500)}function l(){x&&(clearTimeout(x),x=null),M&&(clearInterval(M),M=null)}const p=document.getElementById("decreaseFreq"),v=document.getElementById("increaseFreq"),y=document.getElementById("decreaseGrav"),E=document.getElementById("increaseGrav");p?.addEventListener("mousedown",()=>{f(()=>{o>.1&&(o=Math.max(.1,o-.1),document.getElementById("freqValue").textContent=o.toFixed(1))})});p?.addEventListener("mouseup",l);p?.addEventListener("mouseleave",l);p?.addEventListener("touchstart",s=>{s.preventDefault(),f(()=>{o>.1&&(o=Math.max(.1,o-.1),document.getElementById("freqValue").textContent=o.toFixed(1))})});p?.addEventListener("touchend",s=>{s.preventDefault(),l()});v?.addEventListener("mousedown",()=>{f(()=>{o<10&&(o=Math.min(10,o+.1),document.getElementById("freqValue").textContent=o.toFixed(1))})});v?.addEventListener("mouseup",l);v?.addEventListener("mouseleave",l);v?.addEventListener("touchstart",s=>{s.preventDefault(),f(()=>{o<10&&(o=Math.min(10,o+.1),document.getElementById("freqValue").textContent=o.toFixed(1))})});v?.addEventListener("touchend",s=>{s.preventDefault(),l()});y?.addEventListener("mousedown",()=>{f(()=>{r>.1&&(r=Math.max(.1,r-.1),document.getElementById("gravValue").textContent=r.toFixed(1),h.shapes.forEach(s=>s.gravity=r))})});y?.addEventListener("mouseup",l);y?.addEventListener("mouseleave",l);y?.addEventListener("touchstart",s=>{s.preventDefault(),f(()=>{r>.1&&(r=Math.max(.1,r-.1),document.getElementById("gravValue").textContent=r.toFixed(1),h.shapes.forEach(e=>e.gravity=r))})});y?.addEventListener("touchend",s=>{s.preventDefault(),l()});E?.addEventListener("mousedown",()=>{f(()=>{r<20&&(r=Math.min(20,r+.1),document.getElementById("gravValue").textContent=r.toFixed(1),h.shapes.forEach(s=>s.gravity=r))})});E?.addEventListener("mouseup",l);E?.addEventListener("mouseleave",l);E?.addEventListener("touchstart",s=>{s.preventDefault(),f(()=>{r<20&&(r=Math.min(20,r+.1),document.getElementById("gravValue").textContent=r.toFixed(1),h.shapes.forEach(e=>e.gravity=r))})});E?.addEventListener("touchend",s=>{s.preventDefault(),l()});const w=document.getElementById("themeToggle"),B=document.body,Y=localStorage.getItem("theme")||"dark";Y==="light"&&(B.setAttribute("data-theme","light"),w.checked=!0);w?.addEventListener("change",()=>{w.checked?(B.setAttribute("data-theme","light"),localStorage.setItem("theme","light")):(B.removeAttribute("data-theme"),localStorage.setItem("theme","dark"))});
